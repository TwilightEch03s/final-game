import*as n from"https://esm.sh/three@0.181.2";import{OrbitControls as vt}from"https://esm.sh/three@0.181.2/examples/jsm/controls/OrbitControls.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const d of s)if(d.type==="childList")for(const a of d.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function i(s){const d={};return s.integrity&&(d.integrity=s.integrity),s.referrerPolicy&&(d.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?d.credentials="include":s.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(s){if(s.ep)return;s.ep=!0;const d=i(s);fetch(s.href,d)}})();function u(t,e,i,o,s=0,d=1.1,a=0,h=6710886){const c=new n.Mesh(new n.BoxGeometry(t.width,t.height,t.depth),new n.MeshStandardMaterial({color:h}));c.position.set(e.x,s,e.z),c.rotation.x=F(a),i.add(c);const p=new n.Mesh(new n.BoxGeometry(t.width,t.height,t.depth),new n.MeshStandardMaterial({color:0,wireframe:!0}));p.position.set(e.x,s,e.z),p.rotation.x=F(a),i.add(p);const x=new Ammo.btQuaternion;x.setRotation(new Ammo.btVector3(1,0,0),F(a));const f=new Ammo.btTransform;f.setIdentity(),f.setRotation(x),f.setOrigin(new Ammo.btVector3(e.x,s,e.z));const A=new Ammo.btBoxShape(new Ammo.btVector3(t.width/2,t.height/2,t.depth/2)),b=new Ammo.btDefaultMotionState(f),g=new Ammo.btVector3(0,0,0);A.calculateLocalInertia(0,g);const M=new Ammo.btRigidBodyConstructionInfo(0,b,A,g),z=new Ammo.btRigidBody(M);return z.setRestitution(d),o.addRigidBody(z),z}function Rt(t,e,i,o,s,d,a=0,h=0){const c=new n.Shape;c.moveTo(-t.width+e.x,-16+e.z),c.lineTo(t.width+e.x,-16+e.z),c.lineTo(t.width+e.x,t.height+e.z),c.lineTo(-t.width+e.x,t.height+e.z),c.lineTo(-t.width+e.x,-16+e.z);const p=new n.Path;p.moveTo(-1.5+o.x,-i.height+o.z),p.lineTo(i.width+o.x,-i.height+o.z),p.lineTo(i.width+o.x,i.height+o.z),p.lineTo(-1.5+o.x,i.height+o.z),p.lineTo(-1.5+o.x,-i.height+o.z),c.holes.push(p);const x=new n.ShapeGeometry(c),f=new n.MeshStandardMaterial({color:10066329,side:n.DoubleSide}),A=new n.Mesh(x,f);A.rotation.x=-Math.PI/2+F(h),A.position.y=a,s.add(A);const b=new Ammo.btCompoundShape,g=new Ammo.btTransform;g.setIdentity();const M=new Ammo.btBoxShape(new Ammo.btVector3(t.width,(o.z-e.z+(t.height-i.height))/2,.1));g.setOrigin(new Ammo.btVector3(e.x,(e.z+o.z-t.height-i.height)/2,a)),b.addChildShape(g,M);const z=new Ammo.btBoxShape(new Ammo.btVector3(t.width,(t.height-i.height-(o.z-e.z))/2,.1));g.setOrigin(new Ammo.btVector3(e.x,(t.height+i.height+e.z+o.z)/2,a)),b.addChildShape(g,z);const H=new Ammo.btBoxShape(new Ammo.btVector3((o.x-e.x+(t.width-i.width))/2,i.height,.1));g.setOrigin(new Ammo.btVector3((e.x+o.x-t.width-i.width)/2,o.z,a)),b.addChildShape(g,H);const k=new Ammo.btBoxShape(new Ammo.btVector3((t.width-i.width-(o.x-e.x))/2,i.height,.1));g.setOrigin(new Ammo.btVector3((e.x+o.x+i.width+t.width)/2,o.z,a)),b.addChildShape(g,k);const T=new Ammo.btTransform;T.setIdentity();const mt=new Ammo.btQuaternion;mt.setRotation(new Ammo.btVector3(1,0,0),-Math.PI/2+F(h)),T.setRotation(mt),T.setOrigin(new Ammo.btVector3(0,0,0));const It=new Ammo.btDefaultMotionState(T),Ct=new Ammo.btVector3(0,0,0),Wt=new Ammo.btRigidBodyConstructionInfo(0,It,b,Ct),ut=new Ammo.btRigidBody(Wt);return d.addRigidBody(ut),ut}function wt(t,e,i,o,s,d){const a=t instanceof Ammo.btSphereShape?new n.Mesh(new n.SphereGeometry(1,32,32),new n.MeshStandardMaterial({color:10066329})):new n.Mesh(new n.BoxGeometry(1.5,1.5,1.5),new n.MeshStandardMaterial({color:6710886}));a.position.set(i.x,i.y,i.z),o.add(a);const h=new Ammo.btTransform;h.setIdentity(),h.setOrigin(new Ammo.btVector3(i.x,i.y,i.z));const c=new Ammo.btDefaultMotionState(h),p=new Ammo.btVector3(0,0,0);e&&t.calculateLocalInertia(e,p);const x=new Ammo.btRigidBody(new Ammo.btRigidBodyConstructionInfo(e,c,t,p));return x.setRestitution(.8),d.addRigidBody(x),s.push({body:x,mesh:a}),{body:x,mesh:a}}function F(t){return t*(Math.PI/180)}let r,O,B,st,gt,l,dt;const v=[];let W,_,m,R=!1,I=!1,N=!1,G=1,K=1;const Dt=-50,Z=100,Gt=40,Lt=85;let J={x:0,z:0},V=0,P=!1,Y=!1,ct=!1,X=1;const Bt=.6,Ot=1,Vt=1.6;let tt,S,y,$,yt="en";const Kt={en:{tries:"Tries",instructions:`Use WASD to move. Use E to interact with blocks.
In golf mode, hold SPACE to power up your hit and move the camera to aim.
Press '4' to save the game and '5' to reset.
Press '6' for English, '7' for Chinese, '8' for Arabic.`,mode:"Mode",weak:"WEAK",normal:"NORMAL",strong:"STRONG",interact:"Press E to interact",win:"ðŸŽ‰ You Win!",lose:"ðŸ’€"},zh:{tries:"æ¬¡æ•°",instructions:`ä½¿ç”¨ WASD ç§»åŠ¨ï¼ŒæŒ‰ E ä¸Žç‰©ä½“äº’åŠ¨ã€‚
åœ¨é«˜å°”å¤«æ¨¡å¼ä¸­ï¼ŒæŒ‰ä½ ç©ºæ ¼ é”® è“„åŠ›å¹¶è½¬åŠ¨é•œå¤´çž„å‡†ã€‚
æŒ‰ 4 ä¿å­˜æ¸¸æˆï¼ŒæŒ‰ 5 é‡ç½®æ¸¸æˆã€‚
æŒ‰ 6 ä¸ºè‹±è¯­ï¼Œ7 ä¸ºä¸­æ–‡ï¼Œ8 ä¸ºé˜¿æ‹‰ä¼¯è¯­ã€‚`,mode:"æ¨¡å¼",weak:"å¼±",normal:"æ­£å¸¸",strong:"å¼º",interact:"æŒ‰ E é”®äº’åŠ¨",win:"ðŸŽ‰ ä½ èµ¢äº†ï¼",lose:"ðŸ’€"},ar:{tries:"Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª",instructions:`Ø§Ø³ØªØ®Ø¯Ù… WASD Ù„Ù„Ø­Ø±ÙƒØ© ÙˆØ§Ø¶ØºØ· E Ù„Ù„ØªÙØ§Ø¹Ù„.
ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„Ø¬ÙˆÙ„Ù Ø§Ø¶ØºØ· Ù…Ø·ÙˆÙ„Ø§Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§ÙØ© ÙˆØ§Ø¶Ø¨Ø· Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ù„Ù„ØªØµÙˆÙŠØ¨.
Ø§Ø¶ØºØ· 4 Ù„Ù„Ø­ÙØ¸ Ùˆ5 Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†.
Ø§Ø¶ØºØ· 6 Ù„Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ùˆ7 Ù„Ù„ØµÙŠÙ†ÙŠØ© Ùˆ8 Ù„Ù„Ø¹Ø±Ø¨ÙŠØ©.`,mode:"Ø§Ù„ÙˆØ¶Ø¹",weak:"Ø¶Ø¹ÙŠÙ",normal:"Ø¹Ø§Ø¯ÙŠ",strong:"Ù‚ÙˆÙŠ",interact:"Ø§Ø¶ØºØ· E Ù„Ù„ØªÙØ§Ø¹Ù„",win:"ðŸŽ‰ ÙØ²Øª!",lose:"ðŸ’€"}};function w(t){return Kt[yt][t]}function it(t){yt=t,$.textContent=w("interact");const e=document.getElementById("instructions");e&&(e.innerText=w("instructions")),y.textContent=`${w("mode")}: ${w("normal")}`,C(),Nt(t)}function Nt(t){t==="ar"?(document.body.dir="rtl",S.style.right="auto",S.style.left="20px",y.style.right="auto",y.style.left="20px"):(document.body.dir="ltr",S.style.left="auto",S.style.right="20px",y.style.left="auto",y.style.right="20px")}const xt=globalThis.matchMedia("(prefers-color-scheme: dark)");let D=xt.matches;function nt(t){r&&(t?(r.background=new n.Color(4013373),r.fog=new n.Fog(855309,30,120),ft(.25,.8),document.body.style.backgroundColor="#0d0d0d",S.style.color="white",y.style.color="white",$.style.backgroundColor="rgba(0,0,0,0.7)"):(r.background=new n.Color(15790320),r.fog=new n.Fog(15790320,40,180),ft(.6,1.2),document.body.style.backgroundColor="#f0f0f0",S.style.color="black",y.style.color="black",$.style.backgroundColor="rgba(255,255,255,0.85)"),$t(t))}function ft(t,e){for(let s=r.children.length-1;s>=0;s--){const d=r.children[s];d instanceof n.Light&&r.remove(d)}const i=new n.AmbientLight(16777215,t),o=new n.DirectionalLight(16777215,e);o.position.set(20,20,20),o.castShadow=!0,r.add(i),r.add(o)}function $t(t){r.traverse(e=>{if(e.isMesh){const o=e.material;if(!o||!o.color)return;o.roughness=t?.9:.5,o.color.offsetHSL(0,0,t?-.25:.25),o.needsUpdate=!0}})}xt.addEventListener("change",t=>{D=t.matches,nt(D)});const E={};function pt(){nt(D),qt(),Ft(),Ut(),_t(),Ht(),Jt(),At()}function j(){localStorage.world0=R,localStorage.world1=I,localStorage.tries=G,localStorage.inventory=K,localStorage.pickedItems=JSON.stringify(U),console.log(JSON.parse(localStorage.pickedItems)),console.log(localStorage)}function bt(){localStorage.clear(),location.reload()}function Ut(){localStorage.length!=0&&(R=JSON.parse(localStorage.world0),I=JSON.parse(localStorage.world1),G=localStorage.tries,K=localStorage.inventory,U=JSON.parse(localStorage.pickedItems),console.log(localStorage))}function Ht(){if((R&&I)==!0){Et();return}R&&Tt(),!R&&!I&&kt()}function qt(){r=new n.Scene,O=new n.PerspectiveCamera(75,innerWidth/innerHeight,.1,1e3),O.position.set(0,10,20),B=new n.WebGLRenderer({antialias:!0}),B.setSize(innerWidth,innerHeight),B.shadowMap.enabled=!0,document.body.appendChild(B.domElement),r.add(new n.AmbientLight(16777215,.4));const t=new n.DirectionalLight(16777215,1);t.position.set(20,20,20),t.castShadow=!0,r.add(t),st=new vt(O,B.domElement),st.enableDamping=!0,gt=new n.Clock,addEventListener("resize",()=>{O.aspect=innerWidth/innerHeight,O.updateProjectionMatrix(),B.setSize(innerWidth,innerHeight)})}function Ft(){const t=new Ammo.btDefaultCollisionConfiguration,e=new Ammo.btCollisionDispatcher(t),i=new Ammo.btDbvtBroadphase,o=new Ammo.btSequentialImpulseConstraintSolver;l=new Ammo.btDiscreteDynamicsWorld(e,i,o,t),l.setGravity(new Ammo.btVector3(0,Dt,0)),dt=new Ammo.btTransform}function _t(){const t=document.createElement("div");t.id="power-ui";const e=document.createElement("div");e.id="power-fill",t.appendChild(e),document.body.appendChild(t);const i=document.createElement("div");i.style.position="fixed",i.style.top="20px",i.style.right="20px",i.style.color="white",i.style.fontSize="20px",document.body.appendChild(i);const o=document.createElement("div");o.style.position="fixed",o.style.top="20px",o.style.left="20px",o.style.color="white",o.style.fontSize="20px",o.id="instructions",o.innerText=w("instructions"),document.body.appendChild(o);const s=document.createElement("div");s.style.position="fixed",s.style.bottom="20px",s.style.right="20px",s.style.color="white",s.style.fontSize="18px",document.body.appendChild(s);const d=document.createElement("div");d.style.position="fixed",d.style.bottom="50%",d.style.left="50%",d.style.transform="translate(-50%, 50%)",d.style.color="white",d.style.fontSize="24px",d.style.backgroundColor="rgba(0, 0, 0, 0.7)",d.style.padding="15px 30px",d.style.borderRadius="10px",d.style.display="none",d.textContent=w("interact"),document.body.appendChild(d),tt=e,S=i,y=s,$=d,tt.style.display="none",S.style.display="block",y.style.display="none",C()}function C(){tt.style.height=`${V/Z*100}%`,S.textContent=`${w("tries")}: ${G}`,y.textContent||=`${w("mode")}: ${w("normal")}`}function Jt(){addEventListener("keydown",t=>{t.code==="KeyU"&&!I&&re(),t.code==="Digit4"&&j(),t.code==="Digit5"&&bt(),t.code==="Digit6"&&it("en"),t.code==="Digit7"&&it("zh"),t.code==="Digit8"&&it("ar");const e=t.code;E[e]=!0,R&&(e==="Space"&&Mt()&&(P=!0),e==="Digit1"&&(X=Bt,y.textContent=`${w("mode")}: ${w("weak")}`),e==="Digit2"&&(X=Ot,y.textContent=`${w("mode")}: ${w("normal")}`),e==="Digit3"&&(X=Vt,y.textContent=`${w("mode")}: ${w("strong")}`))}),addEventListener("keyup",t=>{E[t.code]=!1,I&&t.code==="Space"&&te()})}function jt(){if(!m||I){console.log("???");return}const t=.15;E.KeyW&&(m.position.z-=t),E.KeyS&&(m.position.z+=t),E.KeyA&&(m.position.x-=t),E.KeyD&&(m.position.x+=t);const e=new n.Vector3;E.KeyW&&(e.z-=1),E.KeyS&&(e.z+=1),E.KeyA&&(e.x-=1),E.KeyD&&(e.x+=1),Zt(),Pt()}const et=[];let U=[];function ot(t,e=1,i=!1){for(const c of U)if(c.position.x==t.x)return;for(const c of et)if(c.position.x==t.x&&c.position.z==t.z&&!c.pickedUp){r.add(c.mesh);return}const o=new n.BoxGeometry(e,e,e),s=new n.MeshStandardMaterial({color:8947848}),d=new n.Mesh(o,s);d.position.set(t.x,t.y??e/2,t.z),d.castShadow=!0,d.receiveShadow=!0,r.add(d);let a;if(i){const c=new Ammo.btBoxShape(new Ammo.btVector3(e/2,e/2,e/2));a=wt(c,0,t,r,v,l).body}const h={mesh:d,body:a,position:d.position.clone(),name:"cube",interactable:!0,pickedUp:!1};return et.push(h),h}function Qt(){return m?m.position:null}let q=!1;addEventListener("keydown",t=>{t.code==="KeyE"&&(q=!0)});function Yt(){const t=Qt();if(!t){if($.style.display="none",!q)return;q=!1,console.warn("Pickup attempted but no player/ball present.");return}const e=2.5;let i=!1;for(const s of et){if(s.pickedUp)continue;const d=s.mesh.position.x-t.x,a=s.mesh.position.y-t.y,h=s.mesh.position.z-t.z;if(Math.sqrt(d*d+a*a+h*h)<=e){i=!0;break}}if($.style.display=i?"block":"none",!q)return;q=!1;let o=!1;for(const s of et){if(s.pickedUp)continue;const d=s.mesh.position.x-t.x,a=s.mesh.position.y-t.y,h=s.mesh.position.z-t.z;if(Math.sqrt(d*d+a*a+h*h)<=e){Xt(s),o=!0;break}}o||console.log("No items in range to pick up.")}function Xt(t){if(U.push(t),t.pickedUp=!0,t.interactable=!1,r.remove(t.mesh),t.body){l.removeRigidBody(t.body);const e=v.findIndex(i=>i.body===t.body);if(e!==-1){const i=v[e].mesh;r.remove(i),v.splice(e,1)}Ammo.destroy(t.body)}K++,G++,C(),ht.push(ne(t)),console.log("Item picked up:",t.name,"| Inventory:",K,"| Tries:",G)}const L={x:0,z:-15,size:5};function Zt(){if(R)return;const t=m.position.x-L.x,e=m.position.z-L.z;t*t+e*e<L.size*L.size&&(ht.push(ie()),R=!0,j(),lt(),at(),Tt())}const Q={x:0,z:-15,size:5};let rt=!1;function Pt(){if(I)return;const t=m.position.x-Q.x,e=m.position.z-Q.z;t*t+e*e<Q.size*Q.size&&(K===0&&!rt?(alert(w("lose")),location.reload(),rt=!0):rt?bt():Et())}function Mt(){if(!W)return!1;const t=W.getLinearVelocity();return Math.sqrt(t.x()**2+t.y()**2+t.z()**2)<.05&&!N}function te(){if(!P||!W||N)return;P=!1,ct=V>=Lt,Y=!0;const t=new n.Vector3;O.getWorldDirection(t),t.y=0,t.normalize();const e=new n.Vector3(-t.z,0,t.x),i=ct?Math.random()*2*(Math.random()<.5?-1:1):0,o=V/Z*120*X,s=new Ammo.btVector3(t.x*o+e.x*i,.15*(V/Z),t.z*o+e.z*i);W.activate(!0),W.applyCentralImpulse(s),G--,C()}function At(){requestAnimationFrame(At);const t=gt.getDelta();l.stepSimulation(t,10),v.forEach(e=>{const i=e.body.getMotionState();if(i){i.getWorldTransform(dt);const o=dt.getOrigin();e.mesh.position.set(o.x(),o.y(),o.z())}}),I||jt(),P&&!Y&&(V=Math.min(Z,V+Gt*t),C()),Y&&Mt()&&(Y=!1,V=0,ct=!1,C(),G<=0&&!N&&(N=!0,setTimeout(()=>{alert("ðŸ’€"),location.reload()},500))),_&&!N&&ee(),Yt(),st.update(),B.render(r,O)}function ee(){const t=_.position.x-J.x,e=_.position.z- -J.z;Math.sqrt(t*t+e*e)<2.5&&_.position.y<-2&&(alert(w("win")),N=!0)}function St(){const t=window;t.Ammo?typeof t.Ammo=="function"?t.Ammo().then(pt):pt():setTimeout(St,100)}St();function at(){if(l)for(let t=v.length-1;t>=0;t--){const{body:e}=v[t];l.removeRigidBody(e),Ammo.destroy(e),v.splice(t,1)}}function zt(){r.add(new n.AmbientLight(16777215,.4));const t=new n.DirectionalLight(16777215,1);t.position.set(20,20,20),t.castShadow=!0,r.add(t)}function lt(){for(;r.children.length>0;){const t=r.children.pop();t&&r.remove(t)}}function kt(){S.style.display="block",C();const t=8,e=new n.PlaneGeometry(t,t),i=new n.MeshStandardMaterial({color:65280,transparent:!0,opacity:.3,side:n.DoubleSide}),o=new n.Mesh(e,i);o.rotation.x=-Math.PI/2,o.position.set(L.x,.01,L.z),r.add(o);const s=.1,d=new n.BoxGeometry(32,s,32),a=new n.MeshStandardMaterial({color:16777215,roughness:.6}),h=new n.Mesh(d,a);h.position.y=-s/2,h.receiveShadow=!0,r.add(h),ot({x:-12,y:.8,z:-5},1,!0),ot({x:12,y:.8,z:8},1,!0);const c=new n.Shape;c.moveTo(0,1),c.lineTo(-1,-1),c.lineTo(1,-1),c.lineTo(0,1);const p=new n.ExtrudeGeometry(c,{depth:.5,bevelEnabled:!1}),x=new n.MeshStandardMaterial({color:65484});m=new n.Mesh(p,x),m.rotation.x=Math.PI/2,m.rotation.z=Math.PI,m.castShadow=!0,m.position.set(0,1,0),r.add(m);const f=2.5,A=.3,b=new n.MeshStandardMaterial({color:D?3355443:14540253,roughness:D?.8:.4}),g=new n.BoxGeometry(32,f,A),M=new n.Mesh(g,b);M.position.set(0,f/2,-16),M.castShadow=!0,r.add(M);const z=M.clone();z.position.set(0,f/2,16),r.add(z);const H=new n.BoxGeometry(A,f,32),k=new n.Mesh(H,b);k.position.set(-16,f/2,0),k.castShadow=!0,r.add(k);const T=k.clone();T.position.set(16,f/2,0),r.add(T),nt(D)}function Tt(){zt(),S.style.display="block",C();const t=8,e=new n.PlaneGeometry(t,t),i=new n.MeshStandardMaterial({color:15616811,transparent:!0,opacity:.3,side:n.DoubleSide}),o=new n.Mesh(e,i);o.rotation.x=-Math.PI/2,o.position.set(L.x,.01,L.z),r.add(o);const s=.1,d=new n.BoxGeometry(32,s,32),a=new n.MeshStandardMaterial({color:16777215,roughness:.6}),h=new n.Mesh(d,a);h.position.y=-s/2,h.receiveShadow=!0,r.add(h),ot({x:-10,y:.8,z:9},1,!0);const c=new n.Shape;c.moveTo(0,1),c.lineTo(-1,-1),c.lineTo(1,-1),c.lineTo(0,1);const p=new n.ExtrudeGeometry(c,{depth:.5,bevelEnabled:!1}),x=new n.MeshStandardMaterial({color:65484});m=new n.Mesh(p,x),m.rotation.x=Math.PI/2,m.rotation.z=Math.PI,m.castShadow=!0,m.position.set(0,1,0),r.add(m);const f=2.5,A=.3,b=new n.MeshStandardMaterial({color:D?3355443:14540253,roughness:D?.8:.4}),g=new n.BoxGeometry(32,f,A),M=new n.Mesh(g,b);M.position.set(0,f/2,-16),M.castShadow=!0,r.add(M);const z=M.clone();z.position.set(0,f/2,16),r.add(z);const H=new n.BoxGeometry(A,f,32),k=new n.Mesh(H,b);k.position.set(-16,f/2,0),k.castShadow=!0,r.add(k);const T=k.clone();T.position.set(16,f/2,0),r.add(T)}function Et(){I=!0,j(),lt(),at(),zt(),tt.style.display="block",S.style.display="block",y.style.display="block",oe(),C(),nt(D)}function oe(){G=K,J={x:0,z:11};const t={x:0,y:2,z:14};Rt({width:4,height:16},{x:0,z:0},{width:1.5,height:1.5},{x:J.x,z:J.z},r,l,0);const e=new Ammo.btSphereShape(1),i=wt(e,1,t,r,v,l);_=i.mesh,W=i.body;const o=1.1;u({width:1,height:2,depth:32},{x:4.5,z:0},r,l,.5,o),u({width:1,height:2,depth:32},{x:-12.5,z:0},r,l,.5,o),u({width:1,height:10,depth:24},{x:-4.5,z:-5},r,l,.5,o),u({width:1,height:10,depth:24},{x:-12.5,z:-5},r,l,.5,o),u({width:10,height:10,depth:1},{x:0,z:-16.5},r,l,.5,o),u({width:26,height:20,depth:1},{x:0,z:-27.5},r,l,.5,o),u({width:8,height:10,depth:1},{x:8,z:-3},r,l,.5,o),u({width:10,height:2,depth:1},{x:0,z:-6},r,l,.5,o),u({width:10,height:2,depth:1},{x:0,z:16.5},r,l,.5,o),u({width:18,height:2,depth:1},{x:-4,z:16.5},r,l,.5,o),u({width:1,height:7.25,depth:13},{x:4.5,z:-10},r,l,.5,o),u({width:1,height:10,depth:14.5},{x:12.5,z:-9.75},r,l,.5,o),u({width:1,height:20,depth:10},{x:12.5,z:-22},r,l,.5,o),u({width:1,height:20,depth:10},{x:-12.5,z:-22},r,l,.5,o),u({width:9,height:0,depth:10},{x:-8.5,z:11},r,l,.001,o,0,11119017),u({width:9,height:0,depth:10},{x:-8.5,z:1.75},r,l,2,0,25,11119017),u({width:9,height:0,depth:14.25},{x:-8.5,z:-9.9},r,l,4.1,o,0,11119017),u({width:26,height:0,depth:10},{x:0,z:-22},r,l,4.1,o,0,11119017),u({width:9,height:0,depth:14.25},{x:8.5,z:-9.9},r,l,4.1,o,0,11119017),u({width:2,height:1,depth:2},{x:4.5,z:-22},r,l,4.5,4,0,16711680),u({width:2,height:1,depth:2},{x:-4.5,z:-22},r,l,4.5,4,0,16711680),W.setFriction(2.5),W.setRollingFriction(1.2),W.setDamping(.6,.9)}const ht=[];function ne(t){return{undo:()=>{const e=U.indexOf(t);e!==-1&&U.splice(e,1),ot({x:t.position.x,y:t.position.y,z:t.position.z},1,!0),K--,G--,C(),j()}}}function ie(){return{undo:()=>{R=!1,j(),lt(),at(),kt()}}}function re(){const t=ht.pop();t&&t.undo()}
